---
title: 11. 盛水最多的容器
author: guo-nix
date: 2022-07-06 18:31:00 +0800
categories: [LeetCode, 数组]
tags: [数据结构与算法]  
math: true
---

## 问题描述


```
给你 n 个非负整数 a1，a2，...，an，每个数代表坐标中的一个点 (i, ai) 。在坐标内画 n 条垂直线，垂直线 i 的两个端点分别为 (i, 
ai) 和 (i, 0)。找出其中的两条线，使得它们与 x 轴共同构成的容器可以容纳最多的水。 

说明：你不能倾斜容器，且 n 的值至少为 2。 

图中垂直线代表输入数组 [1,8,6,2,5,4,8,3,7]。在此情况下，容器能够容纳水（表示为蓝色部分）的最大值为 49。 

示例： 
输入：[1,8,6,2,5,4,8,3,7]
输出：49 

Related Topics 数组 双指针 
```

<img src="./images/question_11.jpg">


### 方法一、双指针


1）使用「双指针」，初始时，左右指针分别指向数组的左右两端，计算当前容量。

```
[1, 8, 6, 2, 5, 4, 8, 3, 7]
 ^                       ^
```

2）移动指针。移动原则是[移动对应数字较小的那个指针]。因为，容纳的水量=两个指针指向的数字中较小值∗指针之间的距离，而无论是移动左指针还是移动右指针，指针之间的距离是不变的。

3）重新计算当前容量，更新容量最大值。重复步骤2直到两个指针相遇。

```java
class Solution {
    public int maxArea(int[] height) {
        int l=0, r=height.length-1;
        int ans=0;
        while(l<r){
            int content = (r-l)*Math.min(height[l], height[r]);
            ans = Math.max(ans, content);
            if(height[l]<height[r]){
                l++;
            }else{
                r--;
            }
        }
        return ans;
    }
}
```

证明：为什么双指针的做法是正确的？

双指针代表的是【可以作为容器边界的所有位置的范围】。在一开始，双指针指向数组的左右边界，表示【数组中所有的位置都可以作为容器的边界】，因为还没有进行过任何尝试。在这之后，每次将【对应的数字较小的那个指针】往【另一个指针】的方向移动一个位置，就表示认为【这个指针不可能再作为容器的边界了】。

为什么对应的数字较小的那个指针不可能再作为容器的边界了？

考虑第一步，假设当前左指针和右指针指向的数分别为 x 和 y，不失一般性，假设 x≤y。同时，两个指针之间的距离为 t。那么，它们组成的容器的容量为：`min(x,y)∗t=x∗t`。

可以断定，**如果保持左指针的位置不变，那么无论右指针在哪里**，这个容器的容量都不会超过 x∗t 了。注意这里右指针只能向左移动，因为考虑的是第一步，也就是指针还指向数组的左右边界的时候。也就是说，这个左指针对应的数不会作为容器的边界了，**那么就可以丢弃这个位置，将左指针向右移动一个位置**，此时新的左指针于原先的右指针之间的左右位置，才可能会作为容器的边界。



