---
title: 33. æœç´¢æ—‹è½¬æ’åºæ•°ç»„
author: guo-nix
date: 2022-07-07 08:53:00 +0800
categories: [LeetCode, æ•°ç»„]
tags: [æ•°æ®ç»“æ„ä¸ç®—æ³•]  
math: true
---

## é—®é¢˜æè¿°




æ•´æ•°æ•°ç»„ nums æŒ‰ã€å‡åºã€‘æ’åˆ—ï¼Œæ•°ç»„ä¸­çš„ã€å€¼äº’ä¸ç›¸åŒã€‘ ã€‚

åœ¨ä¼ é€’ç»™å‡½æ•°ä¹‹å‰ï¼Œnums åœ¨é¢„å…ˆæœªçŸ¥çš„æŸä¸ªä¸‹æ ‡ kï¼ˆ0 <= k < nums.lengthï¼‰ä¸Šè¿›è¡Œäº†æ—‹è½¬ï¼Œä½¿æ•°ç»„å˜ä¸º [nums[k], nums[k+1], ..., nums[n-1], nums[0], nums[1], ..., nums[k-1]]ï¼ˆä¸‹æ ‡ ä» 0 å¼€å§‹ è®¡æ•°ï¼‰ã€‚ä¾‹å¦‚ï¼Œ [0,1,2,4,5,6,7] åœ¨ä¸‹æ ‡ 3 å¤„ç»æ—‹è½¬åå¯èƒ½å˜ä¸ºÂ [4,5,6,7,0,1,2] ã€‚

ç»™ä½ æ—‹è½¬åçš„æ•°ç»„ nums å’Œä¸€ä¸ªæ•´æ•° target ï¼Œå¦‚æœ nums ä¸­å­˜åœ¨è¿™ä¸ªç›®æ ‡å€¼ target ï¼Œåˆ™è¿”å›å®ƒçš„ä¸‹æ ‡ï¼Œå¦åˆ™è¿”å›Â -1Â ã€‚



### äºŒåˆ†æŸ¥æ‰¾

å°†æ•°ç»„ä»ä¸­é—´åˆ†å¼€æˆå·¦å³ä¸¤éƒ¨åˆ†çš„æ—¶å€™ï¼Œä¸€å®šæœ‰ä¸€éƒ¨åˆ†çš„æ•°ç»„æ˜¯æœ‰åºçš„ã€‚æ‹¿ç¤ºä¾‹æ¥çœ‹ï¼Œä» 6 è¿™ä¸ªä½ç½®åˆ†å¼€ä»¥åæ•°ç»„å˜æˆäº† [4, 5, 6] å’Œ [7, 0, 1, 2] ä¸¤ä¸ªéƒ¨åˆ†ï¼Œå…¶ä¸­å·¦è¾¹ [4, 5, 6] è¿™ä¸ªéƒ¨åˆ†çš„æ•°ç»„æ˜¯æœ‰åºçš„ï¼Œå…¶ä»–ä¹Ÿæ˜¯å¦‚æ­¤ã€‚

è¿™å¯ç¤ºå¯ä»¥åœ¨å¸¸è§„äºŒåˆ†æŸ¥æ‰¾çš„æ—¶å€™æŸ¥çœ‹å½“å‰ mid ä¸ºåˆ†å‰²ä½ç½®åˆ†å‰²å‡ºæ¥çš„ä¸¤ä¸ªéƒ¨åˆ† [l, mid] å’Œ [mid + 1, r] å“ªä¸ªéƒ¨åˆ†æ˜¯æœ‰åºçš„ï¼Œå¹¶æ ¹æ®æœ‰åºçš„é‚£ä¸ªéƒ¨åˆ†ç¡®å®šè¯¥å¦‚ä½•æ”¹å˜äºŒåˆ†æŸ¥æ‰¾çš„ä¸Šä¸‹ç•Œï¼Œå› ä¸ºèƒ½å¤Ÿæ ¹æ®æœ‰åºçš„é‚£éƒ¨åˆ†åˆ¤æ–­å‡º target åœ¨ä¸åœ¨è¿™ä¸ªéƒ¨åˆ†ï¼š


- å¦‚æœ [l, mid - 1] æ˜¯æœ‰åºæ•°ç»„ï¼Œä¸” target çš„å¤§å°æ»¡è¶³ ([nums[l],nums[mid])ï¼Œåˆ™åº”è¯¥å°†æœç´¢èŒƒå›´ç¼©å°è‡³ [l, mid - 1]ï¼Œå¦åˆ™åœ¨ [mid + 1, r] ä¸­å¯»æ‰¾ã€‚

- å¦‚æœ [mid, r] æ˜¯æœ‰åºæ•°ç»„ï¼Œä¸” target çš„å¤§å°æ»¡è¶³ (nums[mid+1],nums[r]]ï¼Œåˆ™åº”è¯¥å°†æœç´¢èŒƒå›´ç¼©å°è‡³ [mid + 1, r]ï¼Œå¦åˆ™åœ¨ [l, mid - 1] ä¸­å¯»æ‰¾ã€‚


> ä¸ºä»€ä¹ˆè¦åŠ ç­‰å·ï¼Ÿmid æ¯”è¾ƒè¿‡äº†ï¼Œæ‰€ä»¥ç»å¯¹ä¸å¯èƒ½ç›¸ç­‰ï¼Œä½†æ˜¯ start æ˜¯æœ‰å¯èƒ½çš„ï¼Œå³æ•´æ•°å‘ä¸‹å–æ•´çš„æ—¶å€™ mid å¯èƒ½ä¸ start ç›¸ç­‰ï¼Œæ‰€ä»¥éœ€è¦åŠ ã€‚


```java
//äºŒåˆ†æŸ¥æ‰¾
class Solution {
    //æ•°ç»„ä¸­çš„å€¼ äº’ä¸ç›¸åŒ
    public int search(int[] nums, int target) {
        if(nums==null || nums.length==0) return -1;

        int i=0, j = nums.length-1;
        
        while(i<=j){
            int mid = (i+j)/2;
            if(nums[mid]==target){
                return mid;
            }else if(nums[mid]<nums[j]){
                //åœ¨å³åŠè¾¹
                //è¦æœ‰ç­‰å·[1,3]
                if(nums[mid]<= target && target<=nums[j]){
                    i = mid +1;
                }else{
                    j = mid -1;
                }
            }else{
                //åœ¨å·¦åŠè¾¹
                //è¦æœ‰ç­‰å·[1,3]
                if(nums[i]<=target && target<=nums[mid]){
                    j = mid -1;
                }else{
                    i = mid +1;
                }

            }

        }
        return -1;
    }
}
```


å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼š O(logn)ï¼Œå…¶ä¸­ n ä¸º nums æ•°ç»„çš„å¤§å°ã€‚æ•´ä¸ªç®—æ³•æ—¶é—´å¤æ‚åº¦å³ä¸ºäºŒåˆ†æŸ¥æ‰¾çš„æ—¶é—´å¤æ‚åº¦ O(logn)ã€‚

- ç©ºé—´å¤æ‚åº¦ï¼š O(1) ã€‚åªéœ€è¦å¸¸æ•°çº§åˆ«çš„ç©ºé—´å­˜æ”¾å˜é‡ã€‚



#### é”™è¯¯çš„è§£æ³•

```java
class Solution {
    public int search(int[] nums, int target) {
        if(nums==null || nums.length==0) return -1;
        int l = 0, r = nums.length-1;
        while(l<=r){
            int mid = (l+r)/2;
            if(nums[mid]==target){
                return mid;
            }else if(nums[l]<nums[mid]){ //ğŸ’ é”™è¯¯ï¼šæ•´æ•°å‘ä¸‹å–æ•´ï¼Œl æœ‰å¯èƒ½ç­‰äº midã€‚
                //å·¦è¾¹æœ‰åº ï¼ˆåˆ¤æ–­æ¡ä»¶å¿…é¡»æ˜¯nums[l]<=nums[mid]ï¼‰
                //å¦åˆ™ [3,1] target=1 æŠ¥é”™ï¼Œè¿”å›-1
                if(nums[l]<=target && target<=nums[mid]){
                    r = mid-1;
                }else{
                    l = mid+1;
                }
            }else{
                //å³è¾¹æœ‰åº
                if(nums[mid]<=target && target<=nums[r]){
                    l = mid+1;
                }else{
                    r = mid-1;
                }
            }
        }
        return -1;
    }
}
```